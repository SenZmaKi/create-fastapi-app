# Copier configuration for create-fastapi-app

# Basic configuration
_templates_suffix: .jinja
_skip_if_exists:
  - .env

# Questions
app_name:
  type: str
  help: What is your app's name?
  validator: "{% if not app_name %}App name cannot be empty{% endif %}"

app_description:
  type: str
  help: App description
  default: "A FastAPI application"

enable_docker:
  type: bool
  help: Enable Docker integration?
  default: yes

enable_auth:
  type: bool
  help: Enable authentication integration?
  default: yes

enable_soft_delete:
  type: bool
  help: Enable soft delete integration?
  default: yes

enable_vps_deployment:
  type: bool
  help: Enable VPS deployment configuration?
  default: yes

# Computed values
_exclude:
  # Always exclude
  - "copier.yml"
  - "*.pyc"
  - "__pycache__"
  - ".git"
  - ".pytest_cache"
  - ".ruff_cache"
  - "*.egg-info"
  - ".venv"
  - "logs"

  # Conditional excludes based on options
  # Docker
  - "{% if not _enable_docker %}Dockerfile.jinja{% endif %}"
  - "{% if not _enable_docker %}.dockerignore.jinja{% endif %}"
  - "{% if not _enable_docker %}docker-compose.yml.jinja{% endif %}"
  - "{% if not _enable_docker %}.github/workflows/docker.yml{% endif %}"
  # Auth
  - "{% if not _enable_auth %}app/services/auth.py{% endif %}"
  - "{% if not _enable_auth %}app/routers/auth.py{% endif %}"
  - "{% if not _enable_auth %}app/routers/utils/auth.py{% endif %}"
  - "{% if not _enable_auth %}app/dtos/auth.py{% endif %}"
  - "{% if not _enable_auth %}app/models/auth.py{% endif %}"
  - "{% if not _enable_auth %}app/services/scheduler.py{% endif %}"
  - "{% if not _enable_auth %}app/services/email.py.jinja{% endif %}"
  - "{% if not _enable_auth %}test/test_auth.py{% endif %}"
  # VPS
  - "{% if not _enable_vps_deployment %}pm2.config.js.jinja{% endif %}"
